import{j as e,B as x,S as c,A as l}from"./mui-vendor-DlldRxor.js";import{i as g,a as d}from"./react-vendor-C0s_J9t-.js";import{u as f}from"./redux-vendor-tKFe_QvA.js";import{M as S}from"./MobileBarcodeScanner-C2yMGKQf.js";import{a9 as b}from"./index-D4QRAU_W.js";import"./pdf-vendor-DisdNAgy.js";import"./firebase-vendor-40dJGoDN.js";import"./utils-vendor-CFocuF-S.js";const z=()=>{const o=g(),m=f(),[r,t]=d.useState(null),[s,a]=d.useState(null),u=async(n,j)=>{try{await m(b({barcodeId:n})).unwrap(),t(`Order completed! Barcode: ${n}`),setTimeout(()=>{o("/todays-orders")},1500)}catch(i){const h=i instanceof Error?i.message:"Failed to complete order";a(h)}},p=()=>{o("/todays-orders")};return e.jsxs(x,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,backgroundColor:"#000"},children:[e.jsx(S,{isActive:!0,onScan:u,onClose:p,instructions:"Position order barcode within the frame"}),e.jsx(c,{open:!!r,autoHideDuration:4e3,onClose:()=>t(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(l,{severity:"success",sx:{width:"100%"},children:r})}),e.jsx(c,{open:!!s,autoHideDuration:6e3,onClose:()=>a(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(l,{severity:"error",sx:{width:"100%"},children:s})})]})};export{z as MobileBarcodeScannerPage};
