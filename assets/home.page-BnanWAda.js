const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileHomePage-BtLgbqmY.js","assets/mui-vendor-DlldRxor.js","assets/react-vendor-C0s_J9t-.js","assets/MobileAppShell-dHUJWRrR.js","assets/index-D4QRAU_W.js","assets/redux-vendor-tKFe_QvA.js","assets/firebase-vendor-40dJGoDN.js","assets/utils-vendor-CFocuF-S.js","assets/pdf-vendor-DisdNAgy.js","assets/MobileCard-BmxjauOU.js","assets/MobileDatePicker-CdEtDmOk.js","assets/AdapterDateFns-Cwp-64Ap.js","assets/endOfMonth-CxaODxht.js","assets/usePullToRefresh-C2FNOxJ5.js","assets/pdfStorageService-DGuhzLre.js"])))=>i.map(i=>d[i]);
import{_ as Fe}from"./pdf-vendor-DisdNAgy.js";import{j as e,a3 as oe,B as n,ag as ae,h as i,k,aE as ne,al as le,am as ie,aF as B,an as ce,C as q,A as O,aG as Ie,ac as ke,ai as $,aH as ze,ak as Ae,D as _,Y as K,aI as $e,Z as de,ap as xe,V as T,I as V,a as Te,ay as E,aJ as Ee,aj as Le,aK as he,aL as Be,aM as Me,T as me,aN as We,aO as ue,q as Oe,ao as _e,c as Re,a9 as G,p as Ue,r as Ne,o as He,aP as Ge,b as Ye,a1 as Je,i as Qe,u as Ke,d as Ve,Q as qe,aQ as Ze,aR as Xe,x as et,S as tt}from"./mui-vendor-DlldRxor.js";import{a as u}from"./react-vendor-C0s_J9t-.js";import{u as st,i as rt,j as Y,z as ot,G as at,H as nt,A as lt,I as it,J,K as te,L as se,M as ct,N as dt,O as xt,Q as ht,R as mt,S as ut}from"./index-D4QRAU_W.js";import{d as pe,p as Q}from"./pdfStorageService-DGuhzLre.js";import{L as pt,A as gt,D as ft}from"./AdapterDateFns-Cwp-64Ap.js";import"./redux-vendor-tKFe_QvA.js";import"./firebase-vendor-40dJGoDN.js";import"./utils-vendor-CFocuF-S.js";import"./endOfMonth-CxaODxht.js";function yt(t,o){const r=document.createElement("a");document.body.appendChild(r),r.style.display="none",r.href=o,r.target="_blank",r.download="pdf-merged-"+Date.now(),r.click(),document.body.removeChild(r),t.preventDefault()}const jt=({pdfUrl:t})=>e.jsx(oe,{sx:{p:{xs:2,sm:3},mb:{xs:3,sm:4},display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"center",gap:{xs:2,sm:3}},children:t&&e.jsxs(n,{sx:{textAlign:"center",width:"100%"},children:[e.jsx(ae,{sx:{fontSize:{xs:28,sm:32},color:"primary.main",mb:1}}),e.jsx(i,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Download Merged Labels"}),e.jsx(k,{variant:"contained",color:"primary",href:t,startIcon:e.jsx(ne,{}),onClick:o=>yt(o,t),sx:{minWidth:{xs:"100%",sm:200},width:{xs:"100%",sm:"auto"}},children:"Download PDF"})]})}),bt=({url:t,pdfUrl:o})=>{const r=t||o||"";return e.jsx(n,{sx:{width:"100%",height:"100%",overflow:"hidden"},children:e.jsx("iframe",{src:r,width:"100%",height:"100%",style:{border:"none",display:"block"},title:"PDF Preview"})})},Dt=({open:t,onClose:o,onConfirm:r,fileName:b,products:C,categories:d,isUploading:x})=>{const[w,P]=u.useState(pe),[g,F]=u.useState(""),h=C.filter(c=>c.categoryId&&c.categoryId.trim()!==""),I=new Set(h.map(c=>c.categoryId)),D={totalProducts:C.length,totalCategories:d.length,categorizedProducts:h.length,categoriesWithProducts:I.size},f=c=>{const s=parseInt(c.target.value);P(a=>({...a,expiryDays:isNaN(s)||s<1?1:s>90?90:s}))},j=c=>{F(c.target.value)},y=()=>{r({...w,description:g.trim()||`Sorted PDF with ${D.totalProducts} products across ${D.categoriesWithProducts} categories`})};return e.jsxs(le,{open:t,onClose:x?void 0:o,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2,boxShadow:10}},children:[e.jsxs(ie,{sx:{display:"flex",alignItems:"center",bgcolor:"primary.main",color:"white"},children:[e.jsx(B,{sx:{mr:1}}),"Save to Cloud Storage"]}),e.jsx(ce,{sx:{pt:3},children:x?e.jsxs(n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:4},children:[e.jsx(q,{size:60}),e.jsx(i,{variant:"h6",sx:{mt:2},children:"Uploading PDF to Storage..."}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Please wait while your file is being uploaded"})]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{severity:"info",sx:{mb:3},children:"Your PDF will be stored in the cloud and automatically sorted by category."}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(i,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"File Information"}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Ie,{fontSize:"small",sx:{mr:1,color:"text.secondary"}}),e.jsx(i,{variant:"body2",children:b})]}),e.jsxs(ke,{direction:"row",spacing:1,sx:{mb:2},children:[e.jsx($,{icon:e.jsx(ze,{}),label:`${D.categoriesWithProducts} Categories`,color:"primary",size:"small"}),e.jsx($,{icon:e.jsx(Ae,{}),label:`${D.totalProducts} Products`,color:"secondary",size:"small"})]}),e.jsx(O,{severity:"success",sx:{mb:2},children:"Products will be automatically sorted by category, then by SKU"})]}),e.jsx(_,{sx:{my:2}}),e.jsx(K,{label:"Description (optional)",fullWidth:!0,multiline:!0,rows:2,value:g,onChange:j,placeholder:`Sorted PDF with ${D.totalProducts} products across ${D.categoriesWithProducts} categories`,sx:{mb:3}}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx($e,{fontSize:"small",sx:{mr:1,color:"text.secondary"}}),e.jsx(K,{label:"Expiry (Days)",type:"number",value:w.expiryDays,onChange:f,InputProps:{inputProps:{min:1,max:90},endAdornment:e.jsx(de,{position:"end",children:"days"})},sx:{width:"150px"},helperText:"1-90 days"})]})]})}),e.jsxs(xe,{sx:{px:3,py:2},children:[e.jsx(k,{onClick:o,disabled:x,children:"Cancel"}),e.jsx(k,{onClick:y,variant:"contained",startIcon:e.jsx(B,{}),disabled:x,children:"Save to Cloud"})]})]})},Ct=({uploadResult:t,onClose:o,onDelete:r})=>{const[b,C]=u.useState(!1),[d,x]=u.useState(!1),w=()=>{navigator.clipboard.writeText(t.downloadUrl).then(()=>{C(!0),setTimeout(()=>C(!1),2e3)},f=>console.error("Could not copy text: ",f))},P=()=>{r(t.fileId),x(!1)},g=f=>new Date(f).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),F=f=>{const j=new Date().getTime(),y=new Date(f).getTime();return Math.ceil((y-j)/(1e3*60*60*24))},h=()=>{var y;const f=(y=t.metadata)==null?void 0:y.storagePath;if(!f)return"Cloud Storage";const j=f.split("/");if(j.length>=3){const c=j[2],s=/^(\d{2})-(\d{2})-(\d{4})$/,a=c.match(s);if(a){const[,p,m,v]=a;return`${["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(m,10)-1]||m} ${p}, ${v}`}return c}return"Cloud Storage"},I=F(t.expiresAt),D=h();return e.jsxs(e.Fragment,{children:[e.jsxs(T,{sx:{mb:4,position:"relative",borderRadius:2,border:"1px solid",borderColor:"success.main"},children:[e.jsx(n,{sx:{position:"absolute",top:10,right:10},children:e.jsx(V,{size:"small",onClick:o,children:e.jsx(Te,{fontSize:"small"})})}),e.jsxs(E,{sx:{pt:3,pb:3},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Ee,{color:"success",sx:{mr:1}}),e.jsx(i,{variant:"h6",color:"success.main",children:"PDF Successfully Uploaded"})]}),e.jsx(O,{severity:"success",sx:{mb:2},children:"Your PDF has been uploaded to cloud storage and is available for download."}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Le,{fontSize:"small",color:"primary",sx:{mr:1}}),e.jsxs(i,{variant:"body2",children:["Stored in: ",e.jsx("strong",{children:D})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:1,mb:3},children:[e.jsx($,{icon:e.jsx(he,{fontSize:"small"}),label:`Expires: ${g(t.expiresAt)}`,size:"small",color:"primary",variant:"outlined"}),e.jsx($,{icon:e.jsx(Be,{fontSize:"small"}),label:`${I} days remaining`,size:"small",color:I<=7?"warning":"default",variant:"outlined"}),t.isShared&&e.jsx($,{icon:e.jsx(Me,{fontSize:"small"}),label:"Shared",size:"small",color:"secondary",variant:"outlined"})]}),e.jsx(_,{sx:{my:2}}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(i,{variant:"subtitle2",gutterBottom:!0,children:"Download Link"}),e.jsx(K,{fullWidth:!0,variant:"outlined",value:t.downloadUrl,InputProps:{readOnly:!0,endAdornment:e.jsx(de,{position:"end",children:e.jsx(me,{title:b?"Copied!":"Copy link",children:e.jsx(V,{edge:"end",onClick:w,size:"small",children:e.jsx(We,{fontSize:"small"})})})})},size:"small"})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:2},children:[e.jsx(k,{variant:"outlined",color:"error",startIcon:e.jsx(ue,{}),onClick:()=>x(!0),size:"small",children:"Delete From Cloud"}),e.jsx(k,{variant:"contained",color:"primary",component:Oe,href:t.downloadUrl,target:"_blank",startIcon:e.jsx(ne,{}),size:"small",children:"Download Now"})]})]})]}),e.jsxs(le,{open:d,onClose:()=>x(!1),children:[e.jsx(ie,{children:"Delete PDF from Cloud Storage?"}),e.jsx(ce,{children:e.jsx(_e,{children:"This will permanently remove the PDF from cloud storage. This action cannot be undone."})}),e.jsxs(xe,{children:[e.jsx(k,{onClick:()=>x(!1),children:"Cancel"}),e.jsx(k,{onClick:P,color:"error",autoFocus:!0,children:"Delete"})]})]})]})},re=t=>{const o=u.useId(),r=()=>t.selected?t.fileCount&&t.fileCount>1?`${t.fileCount} Files Selected`:"File Selected":`Select ${t.name}`;return e.jsxs(e.Fragment,{children:[e.jsx("input",{id:o,accept:t.accepts,style:{display:"none"},type:"file",onChange:t.onChange,multiple:t.multiple}),e.jsx("label",{htmlFor:o,children:e.jsx(k,{component:"span",color:t.selected?"success":"primary",variant:t.selected?"contained":"outlined",tabIndex:-1,startIcon:t.selected?e.jsx(Re,{}):e.jsx(B,{}),sx:{transition:"all 0.2s ease-in-out",minWidth:180,"&:hover":{transform:"translateY(-2px)"}},children:r()})})]})},vt=({amazonFiles:t,flipkartFiles:o,onAmazonAdd:r,onFlipkartAdd:b,onAmazonRemove:C,onFlipkartRemove:d,onAmazonClear:x,onFlipkartClear:w})=>{const[P,g]=u.useState(!1),[F,h]=u.useState(!1),I=s=>{const a=s.target.files;if(a)for(let p=0;p<a.length;p++)r(a[p])},D=s=>{const a=s.target.files;if(a)for(let p=0;p<a.length;p++)b(a[p])},f=(s,a)=>{s.preventDefault(),s.stopPropagation(),a(!0)},j=(s,a)=>{s.preventDefault(),s.stopPropagation(),a(!1)},y=(s,a,p)=>{if(s.preventDefault(),s.stopPropagation(),p(!1),s.dataTransfer.files&&s.dataTransfer.files.length>0){const m=s.dataTransfer.files;for(let v=0;v<m.length;v++)m[v].type==="application/pdf"&&a(m[v])}},c=(s,a,p)=>s.length===0?null:e.jsxs(n,{sx:{mt:2,width:"100%"},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[e.jsxs(i,{variant:"subtitle2",color:"text.secondary",children:[s.length," ",s.length===1?"file":"files"," selected"]}),s.length>1&&e.jsx($,{label:"Clear All",size:"small",color:"error",variant:"outlined",onClick:p})]}),e.jsx(Ue,{dense:!0,sx:{maxHeight:"150px",overflow:"auto",bgcolor:"background.paper",borderRadius:1},children:s.map((m,v)=>e.jsx(Ne,{secondaryAction:e.jsx(V,{edge:"end","aria-label":"delete",size:"small",onClick:()=>a(v),children:e.jsx(ue,{fontSize:"small"})}),children:e.jsx(He,{primary:m.name,secondary:`${(m.size/1024).toFixed(1)} KB`,primaryTypographyProps:{noWrap:!0}})},`${m.name}-${v}`))})]});return e.jsxs(G,{container:!0,spacing:3,children:[e.jsx(G,{item:!0,xs:12,md:6,children:e.jsx(T,{variant:"outlined",sx:{height:"100%",transition:"all 0.3s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:s=>s.palette.mode==="dark"?"0 4px 8px rgba(0,0,0,0.3)":"0 4px 8px rgba(33,150,243,0.15)"},...P&&{border:"2px dashed",borderColor:"primary.main",backgroundColor:"rgba(33, 150, 243, 0.04)"}},onDragOver:s=>f(s,g),onDragLeave:s=>j(s,g),onDrop:s=>y(s,r,g),children:e.jsx(E,{children:e.jsxs(n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3,textAlign:"center"},children:[e.jsx(B,{sx:{fontSize:48,mb:2,color:s=>t.length>0?s.palette.success.main:s.palette.primary.main}}),e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Amazon Labels"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t.length>0?`${t.length} Amazon file${t.length!==1?"s":""} selected`:P?"Drop PDF files here":"Upload or drop Amazon shipping labels (PDF)"}),e.jsx(re,{accepts:"application/pdf",name:"amazon",onChange:I,selected:t.length>0,fileCount:t.length,multiple:!0}),c(t,C,x)]})})})}),e.jsx(G,{item:!0,xs:12,md:6,children:e.jsx(T,{variant:"outlined",sx:{height:"100%",transition:"all 0.3s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:s=>s.palette.mode==="dark"?"0 4px 8px rgba(0,0,0,0.3)":"0 4px 8px rgba(33,150,243,0.15)"},...F&&{border:"2px dashed",borderColor:"primary.main",backgroundColor:"rgba(33, 150, 243, 0.04)"}},onDragOver:s=>f(s,h),onDragLeave:s=>j(s,h),onDrop:s=>y(s,b,h),children:e.jsx(E,{children:e.jsxs(n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3,textAlign:"center"},children:[e.jsx(B,{sx:{fontSize:48,mb:2,color:s=>o.length>0?s.palette.success.main:s.palette.primary.main}}),e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Flipkart Labels"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o.length>0?`${o.length} Flipkart file${o.length!==1?"s":""} selected`:F?"Drop PDF files here":"Upload or drop Flipkart shipping labels (PDF)"}),e.jsx(re,{accepts:"application/pdf",name:"flipkart",selected:o.length>0,fileCount:o.length,multiple:!0,onChange:D}),c(o,d,w)]})})})})]})},wt=({enabled:t,onChange:o,disabled:r=!1})=>e.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,borderRadius:2,border:"1px solid",borderColor:r?"grey.200":t?"primary.light":"grey.200",backgroundColor:r?"warning.dark":t?"primary.lightest":"warning.dark",opacity:r?.7:1,transition:"all 0.3s ease","&:hover":{borderColor:r?"grey.200":t?"primary.main":"grey.200"}},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[t?e.jsx(Ge,{sx:{color:r?"grey.600":"primary.main",fontSize:24}}):e.jsx(Ye,{sx:{color:r?"grey.600":"grey.700",fontSize:24}}),e.jsxs(n,{children:[e.jsx(i,{variant:"subtitle1",sx:{fontWeight:600,color:r?"grey.700":"text.primary"},children:"Barcode Generation"}),e.jsx(i,{variant:"body2",sx:{color:r?"grey.600":"text.secondary"},children:t?"Add barcodes to each page for tracking":"Generate PDF without barcodes"})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx($,{label:t?"Enabled":"Disabled",color:t?"primary":"default",size:"small",variant:t?"filled":"outlined",sx:{...r&&{backgroundColor:"grey.200",color:"grey.700",borderColor:"grey.400","& .MuiChip-label":{color:"grey.700"}}}}),e.jsx(me,{title:t?"Disable to generate PDFs without barcodes for faster processing":"Enable to add tracking barcodes to each page of the merged PDF",children:e.jsx(Je,{control:e.jsx(Qe,{checked:t,onChange:b=>o(b.target.checked),disabled:r,color:"primary"}),label:"",sx:{m:0}})})]})]}),St=u.lazy(()=>Fe(()=>import("./MobileHomePage-BtLgbqmY.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])).then(t=>({default:t.MobileHomePage}))),Mt=()=>st()?e.jsx(u.Suspense,{fallback:e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:e.jsx(q,{})}),children:e.jsx(St,{})}):e.jsx(Pt,{}),Pt=()=>{const t=Ke(),o=Ve(t.breakpoints.down("sm")),r=rt(),{amazonFiles:b,flipkartFiles:C,finalPdf:d,summary:x,loading:w,error:P,selectedDate:g,enableBarcodes:F}=Y(l=>l.pdfMerger),{categories:h,items:I}=Y(l=>l.products),D=Y(ot),[f,j]=u.useState(!1),[y,c]=u.useState(!1),[s,a]=u.useState(null),[p,m]=u.useState(!1),[v,z]=u.useState(void 0),[R,U]=u.useState(null);u.useEffect(()=>{(async()=>{I.length===0&&await r(lt({})).unwrap(),h.length===0&&await r(it()).unwrap()})().catch(console.error)},[r,I.length,h.length]),u.useEffect(()=>{if(!d||y||s||!D||d===R)return;U(d);const l=async()=>{var S;try{if(!d)return;const X=await(await fetch(d)).blob(),M=`sorted_labels_${new Date().toISOString().replace(/[:.-]/g,"_")}.pdf`,N={...pe,expiryDays:7,description:`Auto-saved PDF with ${x.length} products across ${h.filter(H=>!!H.name).length} categories`},W=await Q.uploadPdfForDate(X,M,g,{categoryCount:h.length,productCount:x.length,sortConfig:J,description:`Auto-saved PDF with ${x.length} products across ${h.filter(H=>!!H.name).length} categories`},N);W.success?(a(W),m(!0)):(console.error("Error auto-uploading PDF:",W.error),z(W.error||"Failed to auto-save PDF"),(S=W.error)!=null&&S.includes("authenticated")&&z(void 0))}catch(A){console.error("Error auto-uploading PDF:",A),z(A instanceof Error?A.message:"Failed to auto-save PDF"),A instanceof Error&&A.message.includes("authenticated")&&z(void 0)}};c(!0),l().finally(()=>{c(!1)})},[d,y,s,x.length,h,D,R,g]);const ge=async()=>{if(!(b.length===0&&C.length===0)){a(null),m(!1),U(null);try{await r(ut({amazonFiles:b,flipkartFiles:C,sortConfig:J,selectedDate:g,enableBarcodes:F})).unwrap(),r(se()),r(te())}catch(l){console.error(l)}}},fe=l=>{r(ht(l)),L()},ye=l=>{r(xt(l)),L()},je=l=>{r(dt(l)),L()},be=l=>{r(ct(l)),L()},De=()=>{r(se()),L()},Ce=()=>{r(te()),L()},L=()=>{m(!1),a(null),U(null)},ve=()=>{d&&j(!0)},we=async l=>{if(d){c(!0);try{const A=await(await fetch(d)).blob(),ee=`sorted_labels_${new Date().toISOString().replace(/[:.-]/g,"_")}.pdf`,M=await Q.uploadPdfForDate(A,ee,g,{categoryCount:h.length,productCount:x.length,sortConfig:J,description:`Sorted PDF with ${x.length} products across ${h.filter(N=>!!N.name).length} categories`},l);M.success?(a(M),m(!0),j(!1)):z(M.error||"Failed to save PDF to cloud")}catch(S){console.error("Error uploading PDF:",S),z(S instanceof Error?S.message:"Failed to save PDF to cloud")}finally{c(!1)}}},Se=async l=>{try{await Q.deletePdf(l),m(!1),a(null)}catch(S){console.error("Error deleting PDF:",S),z(S instanceof Error?S.message:"Failed to delete PDF")}},Z=()=>{z(void 0)},Pe=l=>{r(mt(l))};return e.jsx(qe,{maxWidth:!1,sx:{py:o?2:3},children:e.jsxs(oe,{sx:{p:o?2:3,mb:4,borderRadius:2,boxShadow:t.shadows[3]},elevation:3,children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:3,flexDirection:o?"column":"row",gap:o?1:0},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:o?"center":"flex-start",width:o?"100%":"auto"},children:[e.jsx(Ze,{sx:{fontSize:o?28:32,mr:2,color:"primary.main"}}),e.jsx(i,{variant:o?"h5":"h4",component:"h1",sx:{fontWeight:"bold",color:"primary.dark"},children:"PDF Merger"})]}),o&&e.jsx(_,{flexItem:!0,sx:{my:1}})]}),e.jsx(_,{sx:{mb:3}}),e.jsx(T,{sx:{mb:3,borderRadius:2,border:"1px solid",borderColor:"secondary.light",overflow:"visible",boxShadow:t.shadows[2]},children:e.jsxs(E,{sx:{p:{xs:2,sm:3}},children:[e.jsxs(i,{variant:o?"h6":"h5",gutterBottom:!0,children:[e.jsx(he,{sx:{mr:1,verticalAlign:"middle"}}),"Select Processing Date"]}),e.jsx(i,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Choose the date for which you want to process the PDF files. Orders will be saved to this date."}),e.jsx(pt,{dateAdapter:gt,children:e.jsx(ft,{label:"Processing Date",value:g,onChange:l=>{l&&r(at(l))},minDate:new Date,sx:{width:"100%",maxWidth:300}})}),e.jsxs(i,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Orders will be saved to ",nt(g,"MMMM dd, yyyy")]})]})}),e.jsx(T,{sx:{mb:3,borderRadius:2,border:"1px solid",borderColor:"primary.light",overflow:"visible",boxShadow:t.shadows[2]},children:e.jsxs(E,{sx:{p:{xs:2,sm:3}},children:[e.jsxs(i,{variant:o?"h6":"h5",gutterBottom:!0,children:[e.jsx(ae,{sx:{mr:1,verticalAlign:"middle"}}),"Upload PDF Files"]}),e.jsx(i,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Upload PDF files from Amazon and/or Flipkart. The tool will merge them into a unified PDF document sorted by product categories."}),e.jsx(vt,{amazonFiles:b,flipkartFiles:C,onAmazonAdd:fe,onFlipkartAdd:ye,onAmazonRemove:je,onFlipkartRemove:be,onAmazonClear:De,onFlipkartClear:Ce}),e.jsx(n,{sx:{mt:3},children:e.jsx(wt,{enabled:F,onChange:Pe,disabled:w})}),e.jsxs(n,{sx:{mt:3,textAlign:"center"},children:[e.jsx(k,{variant:"contained",color:"primary",size:"large",disabled:b.length===0&&C.length===0||w,onClick:ge,startIcon:w?e.jsx(q,{size:20}):e.jsx(Xe,{}),sx:{minWidth:200,py:1,borderRadius:2,textTransform:"none",fontWeight:600},children:w?"Processing...":"Generate PDF"}),e.jsx(et,{in:!!P,children:e.jsx(O,{severity:"error",sx:{mt:2,mx:"auto",maxWidth:600},children:P})})]})]})}),d&&e.jsx(T,{sx:{mb:3,borderRadius:2,border:"1px solid",borderColor:"success.light",backgroundColor:"success.lightest",boxShadow:t.shadows[2]},children:e.jsxs(E,{sx:{p:{xs:2,sm:3}},children:[e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center"},children:[e.jsx(i,{variant:"h6",component:"h3",color:"success.main",sx:{fontWeight:600},children:"PDF Generated Successfully!"}),e.jsx($,{label:`${x.length} Products`,color:"success",size:"small",sx:{ml:2}}),e.jsx(k,{variant:"contained",color:"secondary",size:"small",onClick:ve,disabled:y||p,startIcon:e.jsx(B,{}),sx:{ml:"auto",borderRadius:4},children:y?"Saving...":"Save to Cloud"})]}),e.jsx(jt,{pdfUrl:d}),p&&s&&s.fileId&&e.jsx(Ct,{uploadResult:s,onDelete:()=>Se(s.fileId),onClose:()=>m(!1)})]})}),d&&e.jsx(T,{sx:{borderRadius:2,border:"1px solid",borderColor:"primary.light",overflow:"hidden",boxShadow:t.shadows[2]},children:e.jsx(E,{sx:{p:0},children:e.jsx(bt,{pdfUrl:d})})}),e.jsx(Dt,{open:f,onClose:()=>j(!1),onConfirm:we,fileName:`sorted_labels_${new Date().toISOString().slice(0,10)}.pdf`,products:I,categories:h,isUploading:y}),e.jsx(tt,{open:!!v,autoHideDuration:6e3,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(O,{onClose:Z,severity:"error",sx:{width:"100%"},children:v})})]})})};export{Mt as HomePage};
