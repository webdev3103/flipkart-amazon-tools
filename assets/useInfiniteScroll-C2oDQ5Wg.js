import{j as c,Y as p,Z as h,I as j,ax as R,as as b}from"./mui-vendor-DlldRxor.js";import{a as n}from"./react-vendor-C0s_J9t-.js";function S({value:s,onChange:a,placeholder:l="Search...",autoFocus:o=!0,debounceMs:f=300,disabled:t=!1,textFieldProps:r}){const[u,i]=n.useState(s),e=n.useRef(null);n.useEffect(()=>{i(s)},[s]),n.useEffect(()=>()=>{e.current&&clearTimeout(e.current)},[]);const I=x=>{const m=x.target.value;i(m),e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{a(m),e.current=null},f)},d=()=>{i(""),e.current&&(clearTimeout(e.current),e.current=null),a("")};return c.jsx(p,{fullWidth:!0,placeholder:l,value:u,onChange:I,autoFocus:o,disabled:t,variant:"outlined",size:"small",InputProps:{startAdornment:c.jsx(h,{position:"start",children:c.jsx(b,{})}),endAdornment:u?c.jsx(h,{position:"end",children:c.jsx(j,{edge:"end",onClick:d,disabled:t,"aria-label":"Clear search",sx:{minWidth:44,minHeight:44},children:c.jsx(R,{})})}):null},sx:{"& .MuiOutlinedInput-root":{minHeight:48},"& .MuiInputBase-input":{fontSize:"1rem"},...r==null?void 0:r.sx},...r})}function T({onLoadMore:s,isLoading:a,hasMore:l,threshold:o=100}){const f=n.useRef(null),t=n.useRef(null),r=n.useCallback(u=>{const[i]=u;i.isIntersecting&&!a&&l&&s()},[s,a,l]);return n.useEffect(()=>{const u=f.current;if(u)return t.current=new IntersectionObserver(r,{rootMargin:`${o}px`,threshold:.1}),t.current.observe(u),()=>{t.current&&t.current.disconnect()}},[r,o]),{sentinelRef:f}}export{S as M,T as u};
