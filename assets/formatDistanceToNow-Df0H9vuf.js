import{as as D,at as I,au as S,av as O,aw as w,ax as X,ay as x,az as h}from"./index-D4QRAU_W.js";import{e as T,a as _}from"./endOfMonth-CxaODxht.js";function M(n,r){const e=+D(n)-+D(r);return e<0?-1:e>0?1:e}function b(n){return I(n,Date.now())}function Y(n,r,e){const[f,t]=S(e==null?void 0:e.in,n,r),u=f.getFullYear()-t.getFullYear(),c=f.getMonth()-t.getMonth();return u*12+c}function N(n){return r=>{const f=(n?Math[n]:Math.trunc)(r);return f===0?0:f}}function v(n,r){return+D(n)-+D(r)}function z(n,r){const e=D(n,r==null?void 0:r.in);return+T(e,r)==+_(e,r)}function F(n,r,e){const[f,t,u]=S(e==null?void 0:e.in,n,n,r),c=M(t,u),a=Math.abs(Y(t,u));if(a<1)return 0;t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-c*a);let o=M(t,u)===-c;z(f)&&a===1&&M(f,u)===1&&(o=!1);const l=c*(a-+o);return l===0?0:l}function A(n,r,e){const f=v(n,r)/1e3;return N(e==null?void 0:e.roundingMethod)(f)}function L(n,r,e){const f=O(),t=(e==null?void 0:e.locale)??f.locale??w,u=2520,c=M(n,r);if(isNaN(c))throw new RangeError("Invalid time value");const a=Object.assign({},e,{addSuffix:e==null?void 0:e.addSuffix,comparison:c}),[o,l]=S(e==null?void 0:e.in,...c>0?[r,n]:[n,r]),m=A(l,o),y=(X(l)-X(o))/1e3,s=Math.round((m-y)/60);let d;if(s<2)return e!=null&&e.includeSeconds?m<5?t.formatDistance("lessThanXSeconds",5,a):m<10?t.formatDistance("lessThanXSeconds",10,a):m<20?t.formatDistance("lessThanXSeconds",20,a):m<40?t.formatDistance("halfAMinute",0,a):m<60?t.formatDistance("lessThanXMinutes",1,a):t.formatDistance("xMinutes",1,a):s===0?t.formatDistance("lessThanXMinutes",1,a):t.formatDistance("xMinutes",s,a);if(s<45)return t.formatDistance("xMinutes",s,a);if(s<90)return t.formatDistance("aboutXHours",1,a);if(s<x){const i=Math.round(s/60);return t.formatDistance("aboutXHours",i,a)}else{if(s<u)return t.formatDistance("xDays",1,a);if(s<h){const i=Math.round(s/x);return t.formatDistance("xDays",i,a)}else if(s<h*2)return d=Math.round(s/h),t.formatDistance("aboutXMonths",d,a)}if(d=F(l,o),d<12){const i=Math.round(s/h);return t.formatDistance("xMonths",i,a)}else{const i=d%12,g=Math.trunc(d/12);return i<3?t.formatDistance("aboutXYears",g,a):i<9?t.formatDistance("overXYears",g,a):t.formatDistance("almostXYears",g+1,a)}}function j(n,r){return L(n,b(n),r)}export{j as f};
