import{u as R,j as e,B as r,V as P,X as b,h as l,D as y,Y as f,Z as d,_ as A,I as W,$ as B,a0 as H,a1 as M,a2 as D,A as E,k as j,C as T}from"./mui-vendor-DlldRxor.js";import{a,i as z}from"./react-vendor-C0s_J9t-.js";import{i as F,j as L,aO as V,bd as $,be as q}from"./index-D4QRAU_W.js";import"./redux-vendor-tKFe_QvA.js";import"./firebase-vendor-40dJGoDN.js";import"./utils-vendor-CFocuF-S.js";import"./pdf-vendor-DisdNAgy.js";const J=()=>{const[o,w]=a.useState(""),[m,I]=a.useState(""),[c,S]=a.useState(!1),[s,x]=a.useState(!1),[i,v]=a.useState(!1),k=z(),p=F(),u=R(),{loading:h,error:n}=L(t=>t.auth),g=V(),C=async t=>{t.preventDefault();try{s?(await p($(o)).unwrap(),x(!1)):(await p(q({email:o,password:m,rememberMe:c})).unwrap(),k("/"))}catch{}};return e.jsx(r,{sx:{minHeight:"100vh",display:"flex",width:"100%",alignItems:"center",justifyContent:"center",bgcolor:t=>t.palette.mode==="dark"?"background.default":"primary.light",backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05))",px:2,py:4,paddingTop:`max(16px, ${g.top})`,paddingBottom:`max(16px, ${g.bottom})`},children:e.jsxs(P,{elevation:3,sx:{p:3,width:"100%",maxWidth:400,display:"flex",flexDirection:"column",gap:2,borderRadius:3,boxShadow:u.palette.mode==="dark"?"0 8px 24px rgba(0,0,0,0.4)":"0 8px 24px rgba(21,101,192,0.15)"},children:[e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:1},children:[e.jsx(r,{sx:{bgcolor:"primary.main",color:"white",width:64,height:64,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",mb:2,boxShadow:"0 4px 12px rgba(21,101,192,0.3)"},children:e.jsx(b,{sx:{fontSize:32}})}),e.jsx(l,{variant:"h5",component:"h1",align:"center",sx:{fontWeight:"bold",color:"primary.dark"},children:s?"Reset Password":"Sign In"}),e.jsx(l,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:1},children:s?"Enter your email to receive a password reset link":"Sign in to access your account"})]}),e.jsx(y,{sx:{my:1}}),e.jsxs("form",{onSubmit:C,children:[e.jsx(f,{fullWidth:!0,label:"Email",type:"email",value:o,onChange:t=>w(t.target.value),margin:"normal",required:!0,autoFocus:!0,autoComplete:"email",InputProps:{startAdornment:e.jsx(d,{position:"start",children:e.jsx(A,{color:"primary"})})},sx:{mb:2,"& .MuiInputBase-root":{minHeight:56}}}),!s&&e.jsx(f,{fullWidth:!0,label:"Password",type:i?"text":"password",value:m,onChange:t=>I(t.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{startAdornment:e.jsx(d,{position:"start",children:e.jsx(b,{color:"primary"})}),endAdornment:e.jsx(d,{position:"end",children:e.jsx(W,{"aria-label":"toggle password visibility",onClick:()=>v(!i),edge:"end",sx:{minWidth:48,minHeight:48},children:i?e.jsx(B,{}):e.jsx(H,{})})})},sx:{mb:1,"& .MuiInputBase-root":{minHeight:56}}}),!s&&e.jsx(M,{control:e.jsx(D,{checked:c,onChange:t=>S(t.target.checked),color:"primary",sx:{minWidth:44,minHeight:44}}),label:"Remember me",sx:{mb:1}}),n&&e.jsx(E,{severity:n.includes("sent")?"success":"error",sx:{mt:2,borderRadius:2},children:n}),e.jsx(j,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,py:1.5,minHeight:56,fontWeight:"bold",fontSize:"1rem",textTransform:"none",borderRadius:2,boxShadow:u.palette.mode==="dark"?"0 4px 12px rgba(0,0,0,0.3)":"0 4px 12px rgba(21,101,192,0.25)"},disabled:h,children:h?e.jsx(T,{size:24,color:"inherit"}):s?"Send Reset Link":"Sign In"})]}),e.jsx(y,{sx:{my:1},children:e.jsx(l,{variant:"body2",color:"text.secondary",children:s?"Remember your password?":"Having trouble?"})}),e.jsx(r,{sx:{display:"flex",justifyContent:"center"},children:e.jsx(j,{variant:"text",color:"primary",onClick:()=>x(!s),sx:{fontWeight:"medium",textTransform:"none",minHeight:48},children:s?"Back to Sign In":"Forgot Password?"})})]})})};export{J as MobileLoginPage};
